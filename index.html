<!DOCTYPE html>

<html lang="en-US">

<head>
  <title>Patsnap URL Generator</title>
  <meta http-equiv="Cache-Control" content="no-store" />
  <meta http-equiv="Content-Type" content="text/html" ; charset="utf-8">

  <!-- Bootstrap CSS -->
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" type="text/javascript"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="text/javascript"></script> -->

  <style>
    html,
    body {
      overflow-x: hidden;
      /* Prevent scroll on narrow devices */
      /* font-family: 'Hiragino Kaku Gothic Pro', 'WenQuanYi Zen Hei', '微軟正黑體', '蘋果儷中黑', Helvetica, Arial, sans-serif; */
    }

    .container {
      width: auto;
      max-width: 1000px;
    }

    @media (max-width: 991.98px) {
      .offcanvas-collapse {
        position: fixed;
        top: 56px;
        /* Height of navbar */
        bottom: 0;
        left: 100%;
        width: 100%;
        padding-right: 1rem;
        padding-left: 1rem;
        overflow-y: auto;
        visibility: hidden;
        background-color: #343a40;
        transition: visibility .3s ease-in-out, -webkit-transform .3s ease-in-out;
        transition: transform .3s ease-in-out, visibility .3s ease-in-out;
        transition: transform .3s ease-in-out, visibility .3s ease-in-out, -webkit-transform .3s ease-in-out;
      }

      .offcanvas-collapse.open {
        visibility: visible;
        -webkit-transform: translateX(-100%);
        transform: translateX(-100%);
      }
    }

    .text-white-50 {
      color: rgba(255, 255, 255, .5);
    }

    .bg-blue {
      background-color: #0b52a8;
    }

    .lh-100 {
      line-height: 1;
    }

    .lh-125 {
      line-height: 1.25;
    }

    .lh-150 {
      line-height: 1.5;
    }

    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
</head>

<body class="bg-light">
  <main role="main" class="container">
    <div class="d-flex align-items-center p-3 my-3 text-white-50 bg-blue rounded shadow-sm">
      <div class="me-3">
        <img src="https://tableau.github.io/webdataconnector/assets/logo.png" alt="" width="48" height="48">
      </div>
      <div class="lh-100">
        <h6 class="mb-2 text-white lh-100">Patsnap 搜索链接生成小工具</h6>
        <small>妍姐快试试～</small>
      </div>
    </div>

    <!-- ALL_AN -->
    <div class="my-3 p-3 bg-white rounded shadow-sm">
      <h6 class="border-bottom border-gray pb-2 mb-0">[全字段]申请(专利权)人</h6>
      <div class="text-muted pt-2">
        <form class="mb-0">
          <div class="form-row media-body mb-0 small lh-125">
            <div class="col-md">
              <label for="all_an" class="text-center mb-1">ALL_AN</label>
              <input type="text" class="form-control form-control-sm" id="all_an" value="株式会社東芝">
            </div>
            <!-- <div class="col-md-4">
							<label for="end-year" class="text-center">End Year</label>
							<input type="text" class="form-control form-control-sm" id="end-year" value="2017">
						</div> -->
          </div>
        </form>
      </div>
    </div> <!-- ALL_AN -->

    <!-- TAC -->
    <div class="row text-muted">
      <div class="col-md-6">
        <!-- TAC AND -->
        <div class="mb-3 p-3 bg-white rounded shadow-sm">
          <h6 class="border-bottom border-gray pb-2 mb-0"><span style="color: red;">包括</span> 标题/摘要/权利要求 （TAC）</h6>
          <div class="row text-muted pt-2" id="tac_and">
            <div class="col-md-6">

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input" checked>
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="centrif* OR 离心" value="centrif* OR 离心">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="uranium OR 铀"
                  value="uranium OR 铀">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="转子 OR rotor"
                  value="转子 OR rotor">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="阻尼 OR damper"
                  value="阻尼 OR damper">
              </div>

            </div>

            <div class="col-md-6">

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="气体 OR gas"
                  value="气体 OR gas">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="enrich* OR 富集" value="enrich* OR 富集">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="轴承 OR bear*"
                  value="轴承 OR bear*">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="自定义"
                  value="">
              </div>

            </div>
          </div> <!-- row -->
        </div> <!-- TAC AND -->
      </div>

      <div class="col-md-6">
        <!-- NOT TAC -->
        <div class="mb-3 p-3 bg-white rounded shadow-sm">
          <h6 class="border-bottom border-gray pb-2 mb-0"><span style="color: red;">排除</span> 标题/摘要/权利要求 （TAC）</h6>
          <div class="row text-muted pt-2" id="tac_not">
            <div class="col-md-12">

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="激光 OR laser"
                  value="激光 OR laser">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="反应堆 OR nuclear reactor" value="反应堆 OR nuclear reactor">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="后处理 OR reprocessing OR Spent fuel" value="后处理 OR reprocessing OR Spent fuel">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="自定义"
                  value="">
              </div>

            </div>
          </div>
        </div> <!-- NOT TAC -->
      </div>
    </div> <!-- TAC END -->

    <!-- TACD -->
    <div class="row text-muted">
      <div class="col-md-6">
        <!-- TACD AND -->
        <div class="mb-3 p-3 bg-white rounded shadow-sm">
          <h6 class="border-bottom border-gray pb-2 mb-0"><span style="color: red;">包括</span> 标题/摘要/权利要求/说明书 （TACD）</h6>
          <div class="row text-muted pt-2" id="tacd_and">
            <div class="col-md-6">

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="centrif* OR 离心" value="centrif* OR 离心">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="uranium OR 铀"
                  value="uranium OR 铀">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="转子 OR rotor"
                  value="转子 OR rotor">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="阻尼 OR damper"
                  value="阻尼 OR damper">
              </div>

            </div>

            <div class="col-md-6">

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="气体 OR gas"
                  value="气体 OR gas">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="enrich* OR 富集" value="enrich* OR 富集">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="轴承 OR bear*"
                  value="轴承 OR bear*">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="自定义"
                  value="">
              </div>

            </div>
          </div>
          <!-- <p class="small pt-2 mb-0" style="color: red;"><b>TODO:</b> This data selection is not functioning yet.</p> -->
        </div> <!-- TAC -->
      </div>

      <div class="col-md-6">
        <!-- NOT TACD -->
        <div class="mb-3 p-3 bg-white rounded shadow-sm">
          <h6 class="border-bottom border-gray pb-2 mb-0"><span style="color: red;">排除</span> 标题/摘要/权利要求/说明书 （TACD）</h6>
          <div class="row text-muted pt-2" id="tacd_not">
            <div class="col-md-12">

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="激光 OR laser"
                  value="激光 OR laser">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="反应堆 OR nuclear reactor" value="反应堆 OR nuclear reactor">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox"
                  placeholder="后处理 OR reprocessing OR Spent fuel" value="后处理 OR reprocessing OR Spent fuel">
              </div>

              <div class="input-group mb-3">
                <div class="input-group-text">
                  <input class="form-check-input mt-0" type="checkbox" value=""
                    aria-label="Checkbox for following text input">
                </div>
                <input type="text" class="form-control" aria-label="Text input with checkbox" placeholder="自定义"
                  value="">
              </div>

            </div>
          </div>
        </div> <!-- NOT TACD -->
      </div>
    </div> <!-- TACD END -->

    <div class="row justify-content-center mb-3">
      <div class="text-center">
        <button type="button" id="submitButton" class="btn btn-success">生成链接</button>
        <div id="errorMsg"></div>
      </div>
    </div>

    <div class="row justify-content-center mb-3" id="result" hidden>
      <div class="text-center col-md-12">
        <div class="alert alert-primary mb-0 shadow-sm" role="alert">
          <a id="link">点这里</a>
        </div>
      </div>
    </div>

  </main>


  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>

  <script>
    $(document).ready(function () {
      var prefix = "https://analytics.zhihuiya.com/search/result/tablelist/1?sort=desc&limit=100&q=";
      var suffix = "&_type=query&redirect=%2Fsearch%2Finput%23%2Fsimple";

      $('#submitButton').click(function () {
        var search = "";
        var all_an = "ALL_AN:(" + $('#all_an').val() + ")";

        // 1. TAC
        var val_tac = [];
        $('#tac_and').find('input[type="checkbox"]:checked').each(function () {
          val_tac.push("(" + $(this).parent().next().val() + ")");
        });
        if (val_tac.length !== 0) {
          val_tac = "TAC:( " + val_tac.join(' AND ') + " )";
        }
        // 2. TAC NOT
        var var_tacNot = [];
        $('#tac_not').find('input[type="checkbox"]:checked').each(function () {
          var_tacNot.push("(" + $(this).parent().next().val() + ")");
        });
        if (var_tacNot.length !== 0) {
          var_tacNot = " NOT TAC:( " + var_tacNot.join(' OR ') + " )";
        }
        // 3. TACD
        var var_tacd = [];
        $('#tacd_and').find('input[type="checkbox"]:checked').each(function () {
          var_tacd.push("(" + $(this).parent().next().val() + ")");
        });
        if (var_tacd.length !== 0) {
          var_tacd = " TACD:( " + var_tacd.join(' OR ') + " )";
        }
        // 4. TACD NOT
        var var_tacdNot = [];
        $('#tacd_not').find('input[type="checkbox"]:checked').each(function () {
          var_tacdNot.push("(" + $(this).parent().next().val() + ")");
        });
        if (var_tacdNot.length !== 0) {
          var_tacdNot = " NOT TACD:( " + var_tacdNot.join(' OR ') + " )";
        }

        var search = all_an + " AND ( " + val_tac + var_tacd + var_tacNot + var_tacdNot + " ) ";
        console.log(search);

        var url = prefix + encodeURIComponent(search) + suffix;
        window.open(url, '_blank');
        // $('#link').attr('href', url);
        // $('#result').removeAttr('hidden');
      });
    });
  </script>
</body>

</html>